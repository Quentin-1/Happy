<main>
    <app-happy-loader *ngIf="!result"></app-happy-loader>


    <section class="badges" *ngIf="result">
        <div class="result_type_{{result.code.toString()[0]}}">{{result.code}} {{result.status}}</div>
        <div>{{result.time}} ms</div>
        <div>{{formatedDate}}</div>
    </section>

    <section class="result" *ngIf="result">
        <header>
            <div (click)="onBodyClicked()" id="result_body_tab">Body</div>
            <div (click)="onHeadersClicked()" id="result_headers_tab">Headers</div>
        </header>
        <section id="result_body_content" *ngIf="tab == 'Body'">
            <app-code-editor [(content)]="result!.body" [readonly]="true"></app-code-editor>
        </section>

        <section *ngIf="tab == 'Headers'" class="headers">
            <table *ngIf="result.headers">
                <tr *ngFor="let header of result.headers">
                    <td>
                        {{header.key}}
                    </td>
                    <td>
                        {{header.value}}
                    </td>
                </tr>
            </table>
        </section>
    </section>
</main>